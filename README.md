# COBOL-file-matching-exercise
COBOL exercise using file handling, sorting, and sequential file matching to generate different reports
using a file containing list of baby names as input.

Input files are top 100 baby names for years 2017 and 2018 
(data from https://www.ssa.gov/cgi-bin/popularnames.cgi). \
Data format is as follows separated by 1 space in between:
* Columns 1-3: Numeric ranking
* Columns 5-16: Male names
* Columns 17-25: Female names

For each sex (disregard female column if looking at male column and vice-versa), 
sort files in alphabetical order in preparation for sequential file matching.\
Data output format (male):
* Columns 1-11: Name

Data output format (female):
* Columns 1-3: Numeric ranking
* Columns 5-13: Name

**For male:**  
Generate 3 reports for: names in 2017 only, names in 2018 only, names in both files. \
Data output format (each file):
* Columns 1-11: Name

**For female:**  
Generate a file containing names in 2018 ordered by ranking which shows change in rank of each name 
or indicate if new entry (not in last year's list)(e.g `'+01'`, `'-32'`, `'NEW'`).\
Data output format:
* Columns 1-3: Numeric ranking
* Columns 5-13: Name
* Columns 15-17: Change in rank 

## Repository file structure

- [data/](data) - contains files used and produced
  - [file-match-male/](data/file-match-male) - contains output files generated by `matchmal.cbl`
    - [m17only.txt](data/file-match-male/m17only.txt)- male names in `baby2017.txt` file only
    - [m18only.txt](data/file-match-male/m18only.txt)- male names in `baby2018.txt` file only
    - [maleboth.txt](data/file-match-male/maleboth.txt)- male names that exist in both files
  - [input/](data/input) - contains input data for this exercise
    - [baby2017.txt](data/input/baby2017.txt) - file with top 100 baby names in 2017
    - [baby2018.txt](data/input/baby2018.txt) - file with top 100 baby names in 2018
  - [sorted/](data/sorted) - contains files sorted alphabetically by male and female names
    - [b17fem.txt](data/sorted/b17fem.txt) - sorted 2017 female names with ranking
    - [b17male.txt](data/sorted/b17male.txt) - sorted 2017 male names
    - [b18fem.txt](data/sorted/b18fem.txt) - sorted 2018 female names with ranking
    - [b18male.txt](data/sorted/b18male.txt) - sorted 2018 male names
  - [rankchng.txt](data/rankchng.txt) - ranking of female names in 2018 with change in rank from last year
- [jcl/](jcl) - contains JCL programs
  - [jmtchmal.jcl](jcl/jmtchmal.jcl) - JCL to run `matchmal.cbl`
  - [jrankfem.jcl](jcl/jrankfem.jcl) - JCL to run `rankfem.cbl`
  - [jsort.jcl](jcl/jsort.jcl) - JCL to run sorting methods, produces files in `data/sorted/`
- [src/](src) - contains COBOL programs
- [matchmal.cbl](src/matchmal.cbl) - COBOL program for file matching sorted male names, produces files in 
  `data/file-match-male` when ran using `jmtchmal.jcl`
- [rankfem.cbl](src/rankfem.cbl) - COBOL program for reporting change in rank of female names, produces 
  `rankchng.txt` when ran using `jrankfem.jcl`
- [sortb17f.cbl](src/sortb17f.cbl) - COBOL program for sorting `baby2017.txt` by female names
